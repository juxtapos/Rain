/* automatically generated by JSCoverage - do not edit */
if (typeof _$jscoverage === 'undefined') _$jscoverage = {};
if (! _$jscoverage['transports/xhr-polling.js']) {
  _$jscoverage['transports/xhr-polling.js'] = [];
  _$jscoverage['transports/xhr-polling.js'][12] = 0;
  _$jscoverage['transports/xhr-polling.js'][18] = 0;
  _$jscoverage['transports/xhr-polling.js'][26] = 0;
  _$jscoverage['transports/xhr-polling.js'][27] = 0;
  _$jscoverage['transports/xhr-polling.js'][28] = 0;
  _$jscoverage['transports/xhr-polling.js'][34] = 0;
  _$jscoverage['transports/xhr-polling.js'][42] = 0;
  _$jscoverage['transports/xhr-polling.js'][43] = 0;
  _$jscoverage['transports/xhr-polling.js'][45] = 0;
  _$jscoverage['transports/xhr-polling.js'][52] = 0;
  _$jscoverage['transports/xhr-polling.js'][54] = 0;
  _$jscoverage['transports/xhr-polling.js'][56] = 0;
  _$jscoverage['transports/xhr-polling.js'][57] = 0;
  _$jscoverage['transports/xhr-polling.js'][61] = 0;
  _$jscoverage['transports/xhr-polling.js'][62] = 0;
  _$jscoverage['transports/xhr-polling.js'][63] = 0;
}
_$jscoverage['transports/xhr-polling.js'][12]++;
var HTTPPolling = require("./http-polling");
_$jscoverage['transports/xhr-polling.js'][18]++;
exports = module.exports = XHRPolling;
_$jscoverage['transports/xhr-polling.js'][26]++;
function XHRPolling(mng, data) {
  _$jscoverage['transports/xhr-polling.js'][27]++;
  HTTPPolling.call(this, mng, data);
}
_$jscoverage['transports/xhr-polling.js'][28]++;
;
_$jscoverage['transports/xhr-polling.js'][34]++;
XHRPolling.prototype.__proto__ = HTTPPolling.prototype;
_$jscoverage['transports/xhr-polling.js'][42]++;
XHRPolling.prototype.doWrite = (function (data) {
  _$jscoverage['transports/xhr-polling.js'][43]++;
  HTTPPolling.prototype.doWrite.call(this);
  _$jscoverage['transports/xhr-polling.js'][45]++;
  var origin = this.req.headers.origin, headers = {"Content-Type": "text/plain; charset=UTF-8", "Content-Length": data === undefined? 0: Buffer.byteLength(data), "Connection": "Keep-Alive"};
  _$jscoverage['transports/xhr-polling.js'][52]++;
  if (origin) {
    _$jscoverage['transports/xhr-polling.js'][54]++;
    headers["Access-Control-Allow-Origin"] = "*";
    _$jscoverage['transports/xhr-polling.js'][56]++;
    if (this.req.headers.cookie) {
      _$jscoverage['transports/xhr-polling.js'][57]++;
      headers["Access-Control-Allow-Credentials"] = "true";
    }
  }
  _$jscoverage['transports/xhr-polling.js'][61]++;
  this.response.writeHead(200, headers);
  _$jscoverage['transports/xhr-polling.js'][62]++;
  this.response.write(data);
  _$jscoverage['transports/xhr-polling.js'][63]++;
  this.log.debug("xhr-polling writing", data);
});
_$jscoverage['transports/xhr-polling.js'].source = ["","/*!"," * socket.io-node"," * Copyright(c) 2011 LearnBoost &lt;dev@learnboost.com&gt;"," * MIT Licensed"," */","","/**"," * Module requirements."," */","","var HTTPPolling = require('./http-polling');","","/**"," * Export the constructor."," */","","exports = module.exports = XHRPolling;","","/**"," * Ajax polling transport."," *"," * @api public"," */","","function XHRPolling (mng, data) {","  HTTPPolling.call(this, mng, data);","};","","/**"," * Inherits from Transport."," */","","XHRPolling.prototype.__proto__ = HTTPPolling.prototype;","","/**"," * Frames data prior to write."," *"," * @api private"," */","","XHRPolling.prototype.doWrite = function (data) {","  HTTPPolling.prototype.doWrite.call(this);","","  var origin = this.req.headers.origin","    , headers = {","          'Content-Type': 'text/plain; charset=UTF-8'","        , 'Content-Length': data === undefined ? 0 : Buffer.byteLength(data)","        , 'Connection': 'Keep-Alive'","      };","","  if (origin) {","    // https://developer.mozilla.org/En/HTTP_Access_Control","    headers['Access-Control-Allow-Origin'] = '*';","","    if (this.req.headers.cookie) {","      headers['Access-Control-Allow-Credentials'] = 'true';","    }","  }","","  this.response.writeHead(200, headers);","  this.response.write(data);","  this.log.debug('xhr-polling writing', data);","};"];
